<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>URBAN ZOMBIE SURVIVAL - SA-MP | 3D IMMERSIVE</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Load Three.js for 3D Background -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Chakra+Petch:wght@700&family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
    
    <style>
        /* Base styles reset and structure */
        body {
            margin: 0;
            overflow: hidden; /* Hide scrollbars due to 3D canvas */
            font-family: 'Inter', sans-serif;
            background-color: #111827; /* Dark background as fallback */
        }
        
        /* Three.js Canvas to cover the background */
        #bg-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1; /* Keep it behind the main content */
        }

        /* Container for 2D content (Buttons, Titles) */
        #content-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            z-index: 10; /* Ensure content is above 3D scene */
        }

        /* Keyframes for the skull's subtle shake/pulse */
        @keyframes skull-pulse {
            0%, 100% { transform: scale(1); text-shadow: 0 0 10px rgba(220, 38, 38, 0.6); }
            50% { transform: scale(1.05) rotate(0.5deg); text-shadow: 0 0 15px rgba(220, 38, 38, 0.8); }
        }

        /* Keyframes for the title's glitch/flicker animation */
        @keyframes flicker {
            0%, 18%, 22%, 25%, 53%, 57%, 100% { text-shadow: 0 0 10px #f87171, 0 0 20px #dc2626; opacity: 1; }
            20%, 24%, 55% { text-shadow: none; opacity: 0.8; }
            80% { text-shadow: 0 0 12px #ef4444, 0 0 25px #b91c1c; opacity: 1; }
        }

        .font-survival {
            font-family: 'Chakra Petch', sans-serif;
            letter-spacing: 0.1em;
            animation: flicker 4s infinite alternate;
        }
        
        #skull-icon {
            animation: skull-pulse 2s ease-in-out infinite alternate;
        }

        /* Button styles (retained) */
        .action-button {
            transition: all 0.2s ease-in-out;
            border-bottom: 4px solid #b91c1c; 
            position: relative; 
        }

        .action-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(220, 38, 38, 0.4);
            background-color: #ef4444; 
            border-bottom: 4px solid #dc2626;
        }

        #connect-button {
            border-bottom: 6px solid #b91c1c;
            box-shadow: 0 0 15px rgba(239, 68, 68, 0.5); 
        }
        #connect-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 0 25px rgba(239, 68, 68, 0.8), 0 10px 25px rgba(239, 68, 68, 0.6);
        }
    </style>
</head>
<body>

    <!-- Canvas for the Three.js 3D Background -->
    <canvas id="bg-canvas"></canvas>

    <!-- Overlay container for the 2D UI -->
    <div id="content-overlay">
        <div id="main-content" class="w-full max-w-sm md:max-w-md bg-gray-800/80 backdrop-blur-md p-6 md:p-10 rounded-xl shadow-2xl border border-gray-700 opacity-0 transition-opacity duration-700">

            <!-- Logo/Title Section (Restored to original requested format) -->
            <div class="text-center mb-10">
                <!-- Skull Icon with glow and animation -->
                <div id="skull-icon" class="text-6xl mb-2 text-red-600 drop-shadow-[0_0_8px_rgba(220,38,38,0.8)]">üíÄ</div>
                
                <h1 class="font-survival text-4xl md:text-5xl text-red-500 uppercase leading-none">
                    URBAN
                </h1>
                <h2 class="font-survival text-xl md:text-2xl text-gray-200 mt-1">
                    ZOMBIE SURVIVAL
                </h2>
            </div>
            <!-- End Logo/Title Section -->

            <!-- Action Button List -->
            <div class="space-y-4">
                
                <!-- 1. Connect Button (Primary CTA) -->
                <a href="samp://5.39.43.115:7777" target="_blank" id="connect-button" 
                   class="action-button flex items-center justify-center bg-red-600 hover:bg-red-500 text-white font-extrabold uppercase py-4 rounded-lg text-lg transition duration-300 ease-in-out shadow-lg">
                    <span class="mr-3 text-2xl">‚ñ∂Ô∏è</span>
                    <span class="inline-block transform hover:scale-105">CONNECT TO SERVER</span>
                </a>

                <!-- 2. Discord Button -->
                <a href="https://discord.gg/NHfBvnePh" target="_blank"
                   class="action-button flex items-center justify-center bg-gray-700 hover:bg-red-600 text-white font-semibold uppercase py-3 rounded-lg transition duration-300 ease-in-out">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 inline-block mr-2 text-indigo-400" fill="currentColor" viewBox="0 0 24 24"><path d="M12.001 4.8c-2.348 0-4.266 1.905-4.266 4.254s1.918 4.254 4.266 4.254c2.348 0 4.266-1.905 4.266-4.254s-1.918-4.254-4.266-4.254zm-6.096 11.237c0 1.956 1.597 3.553 3.553 3.553h5.085c1.956 0 3.553-1.597 3.553-3.553 0-1.077-.48-2.028-1.233-2.697l-1.025-.916-1.026.916c-.753.669-1.603 1.055-2.671 1.055-1.067 0-1.917-.386-2.67-1.055l-1.026-.916-1.025.916c-.753.669-1.233 1.62-1.233 2.697z"/></svg>
                    JOIN DISCORD COMMUNITY
                </a>

                <!-- 3. Download SA-MP Button -->
                <a href="https://sa-mp.mp" target="_blank"
                   class="action-button flex items-center justify-center bg-gray-700 hover:bg-red-600 text-white font-semibold uppercase py-3 rounded-lg transition duration-300 ease-in-out">
                    <span class="mr-3 text-xl">üíæ</span>
                    DOWNLOAD SA-MP
                </a>
                
            </div>

            <!-- Footer/IP Hint -->
            <div class="mt-8 text-center">
                <p class="text-xs text-gray-500 uppercase">Server IP:</p>
                <p class="text-lg text-red-400 font-mono tracking-wider">5.39.43.115:7777</p>
            </div>

        </div>
    </div>

    <script>
        // --- 3D THREE.JS APOCALYPSE BACKGROUND ---
        let scene, camera, renderer;
        let mouseX = 0, mouseY = 0;
        let windowHalfX = window.innerWidth / 2;
        let windowHalfY = window.innerHeight / 2;
        const canvas = document.getElementById('bg-canvas');
        let objects = [];
        
        function initThreeJS() {
            // Scene Setup
            scene = new THREE.Scene();
            // Deep fog to mimic the SA-MP background blur/atmosphere
            scene.fog = new THREE.Fog(0x1a1a1a, 10, 60); 

            // Camera Setup
            camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            camera.position.z = 30; // Further back
            camera.position.y = 10; // Slightly higher
            camera.rotation.x = -Math.PI / 16; // Slight downward tilt

            // Renderer Setup
            renderer = new THREE.WebGLRenderer({ canvas: canvas, antialias: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.setClearColor(scene.fog.color);

            // Lighting (More aggressive red light)
            const ambientLight = new THREE.AmbientLight(0x404040, 8); // Stronger ambient light
            scene.add(ambientLight);
            
            // Red directional light for a bloody/hazard tint
            const directionalLight = new THREE.DirectionalLight(0xff0000, 3); 
            directionalLight.position.set(50, 150, 50);
            scene.add(directionalLight);
            
            // Second, cooler light for contrast
            const coolLight = new THREE.DirectionalLight(0x4444ff, 1.5);
            coolLight.position.set(-50, 100, -50);
            scene.add(coolLight);

            // --- Debris/Building Shapes (The cityscape) ---
            const material = new THREE.MeshStandardMaterial({ 
                color: 0x333333, // Darker, metallic gray
                metalness: 0.3, 
                roughness: 0.7
            });

            for (let i = 0; i < 70; i++) { // Increased object count
                const height = Math.random() * 20 + 5; 
                const buildingGeometry = new THREE.BoxGeometry(4, height, 4); 
                const building = new THREE.Mesh(buildingGeometry, material);
                
                building.position.x = (Math.random() - 0.5) * 150;
                building.position.y = -7 + (height / 2); 
                building.position.z = (Math.random() - 0.5) * 150;

                building.rotation.y = Math.random() * Math.PI;
                
                scene.add(building);
                objects.push(building);
            }
            
            // Ground Plane
            const groundGeometry = new THREE.PlaneGeometry(400, 400); // Much larger ground
            const groundMaterial = new THREE.MeshBasicMaterial({ color: 0x111111, side: THREE.DoubleSide });
            const ground = new THREE.Mesh(groundGeometry, groundMaterial);
            ground.rotation.x = Math.PI / 2;
            ground.position.y = -7;
            scene.add(ground);

            document.addEventListener('mousemove', onDocumentMouseMove);
            window.addEventListener('resize', onWindowResize);
        }

        function onDocumentMouseMove(event) {
            mouseX = (event.clientX - windowHalfX) / 100;
            mouseY = (event.clientY - windowHalfY) / 100;
        }

        function onWindowResize() {
            windowHalfX = window.innerWidth / 2;
            windowHalfY = window.innerHeight / 2;
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        }

        function animate() {
            requestAnimationFrame(animate);

            // Camera movement based on mouse
            camera.position.x += (mouseX - camera.position.x) * 0.03; // Slower movement
            camera.position.y += (-mouseY - camera.position.y + 10) * 0.03; 
            camera.lookAt(scene.position);

            // Simple rotation/movement for atmosphere
            objects.forEach(obj => {
                obj.rotation.y += 0.0002;
            });
            
            renderer.render(scene, camera);
        }

        // --- 2D UI LOAD & Mock Alert (retained) ---
        window.onload = function() {
            // Initialize 3D scene on load
            initThreeJS(); 
            animate();

            // Fade in 2D UI content
            const content = document.getElementById('main-content');
            content.classList.remove('opacity-0');
        };
        
        function alert(message) {
            const container = document.createElement('div');
            container.className = 'fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50';
            
            const box = document.createElement('div');
            box.className = 'bg-gray-800 p-6 rounded-lg shadow-xl max-w-xs text-center border border-red-500';
            
            const msg = document.createElement('p');
            msg.className = 'text-white mb-4';
            msg.textContent = message;
            
            const button = document.createElement('button');
            button.className = 'bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded transition duration-200';
            button.textContent = 'Understood';
            
            button.onclick = () => container.remove();
            
            box.appendChild(msg);
            box.appendChild(button);
            container.appendChild(box);
            document.body.appendChild(container);
        }
    </script>
</body>
</html>